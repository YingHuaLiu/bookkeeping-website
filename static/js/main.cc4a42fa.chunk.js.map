{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/right.svg","icons/rmb.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","views/money/CategorySection.tsx","components/Input.tsx","views/money/NotesSection.tsx","views/money/NumberPadSection/Wrapper.tsx","views/money/NumberPadSection.tsx","views/money/NumberPadSection/generateOutput.tsx","views/money/TagsSection.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","views/Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","classNames","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","deps","count","useRef","useEffect","current","useTags","useState","tags","setTags","localTags","parse","length","findTagById","filter","tag","updateTag","deleteTagById","addTag","tagName","prompt","getTagNameById","Button","button","Center","Space","TagList","ol","Tags","key","onClick","section","CategorySection","categoryMap","categoryList","category","value","c","onChange","Label","label","Input","NoteSection","note","type","target","placeholder","NumberPadSection","toString","output","_setOutput","text","textContent","newOutput","slice","parseFloat","setOutput","indexOf","generateOutput","onOk","TagsSection","selectedTagIds","tagId","t","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","MyLayout","initialState","Money","selected","setSelected","obj","CategoryWrapper","Item","Header","h3","Statistics","setCategory","selectedCategory","r","hash","day","format","push","array","entries","sort","a","b","date","Math","random","TopBar","header","InputWrapper","Tag","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","exact","path","from","NoMatch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cc4a42fa.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 39,\n\t\"./left.svg\": 40,\n\t\"./right.svg\": 41,\n\t\"./rmb.svg\": 42,\n\t\"./tag.svg\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 38;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style>@font-face{font-family:element-icons;src:url(chrome-extension://moombeodfomdpjnpocobemoiaemednkg/fonts/element-icons.woff) format(\\\"woff\\\"),url(\\\"chrome-extension://moombeodfomdpjnpocobemoiaemednkg/fonts/element-icons.ttf \\\") format(\\\"truetype\\\")}</style></defs><path d=\\\"M896 928H128a32 32 0 01-32-32V128a32 32 0 0164 0v736h736a32 32 0 010 64z\\\" /><path d=\\\"M352 896a32 32 0 01-32-32V544a32 32 0 0164 0v320a32 32 0 01-32 32zm224 0a32 32 0 01-32-32V448a32 32 0 0164 0v416a32 32 0 01-32 32zm224 0a32 32 0 01-32-32V384a32 32 0 0164 0v480a32 32 0 01-32 32zM256 416a32.64 32.64 0 01-25.6-12.8 32 32 0 016.4-44.8l256-192a31.36 31.36 0 0141.6 0l108.8 108.16L876.8 102.4a32 32 0 1138.4 51.2l-256 192a31.36 31.36 0 01-41.6-3.2L512 234.24 275.2 409.6A31.36 31.36 0 01256 416z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style>@font-face{font-family:element-icons;src:url(chrome-extension://moombeodfomdpjnpocobemoiaemednkg/fonts/element-icons.woff) format(\\\"woff\\\"),url(\\\"chrome-extension://moombeodfomdpjnpocobemoiaemednkg/fonts/element-icons.ttf \\\") format(\\\"truetype\\\")}</style></defs><path d=\\\"M617.6 233.6c12.8-12.8 32-12.8 44.8 0 12.8 12.8 12.8 28.8 3.2 41.6l-3.2 3.2L428.8 512l233.6 233.6c12.8 12.8 12.8 28.8 3.2 41.6l-3.2 3.2c-12.8 12.8-28.8 12.8-41.6 3.2l-3.2-3.2-256-256c-12.8-12.8-12.8-28.8-3.2-41.6l3.2-3.2 256-256z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style>@font-face{font-family:element-icons;src:url(chrome-extension://moombeodfomdpjnpocobemoiaemednkg/fonts/element-icons.woff) format(\\\"woff\\\"),url(\\\"chrome-extension://moombeodfomdpjnpocobemoiaemednkg/fonts/element-icons.ttf \\\") format(\\\"truetype\\\")}</style></defs><path d=\\\"M683.52 491.52l-307.2-279.04c-10.24-10.24-25.6-10.24-35.84 0-10.24 10.24-10.24 25.6 0 35.84L629.76 512 340.48 775.68c-10.24 10.24-10.24 25.6 0 35.84 10.24 10.24 25.6 10.24 35.84 0l307.2-279.04c5.12-5.12 7.68-12.8 7.68-20.48s-2.56-15.36-7.68-20.48z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"rmb\",\n  \"use\": \"rmb-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"rmb\\\"><defs><style>@font-face{font-family:element-icons;src:url(chrome-extension://moombeodfomdpjnpocobemoiaemednkg/fonts/element-icons.woff) format(\\\"woff\\\"),url(\\\"chrome-extension://moombeodfomdpjnpocobemoiaemednkg/fonts/element-icons.ttf \\\") format(\\\"truetype\\\")}</style></defs><path d=\\\"M447.488 764.928H249.856q-27.648-2.048-42.496-23.04t-17.92-46.592q3.072-25.6 17.92-41.984t42.496-18.432h197.632v-64.512l-197.632-1.024q-27.648-2.048-42.496-19.456t-17.92-44.032q3.072-25.6 17.92-41.984t42.496-18.432h147.456L260.096 203.776q-10.24-12.288-19.456-31.232t-8.192-41.472q5.12-28.672 20.48-46.592t57.344-23.04q24.576 2.048 44.032 16.896t31.744 32.256l155.648 284.672 171.008-286.72q12.288-17.408 31.744-30.72T788.48 61.44q15.36 1.024 28.16 4.096t22.528 10.24 16.384 20.48 9.728 34.816q0 29.696-20.48 56.32L686.08 445.44h150.528q26.624 2.048 41.984 18.432T896 505.856q-2.048 26.624-17.92 45.056t-42.496 20.48L640 572.416v62.464h196.608q26.624 2.048 41.984 20.48T896 699.392q-2.048 26.624-17.408 44.544t-41.984 19.968L640 762.88v108.544q-4.096 87.04-95.232 87.04-45.056 0-70.144-21.504t-27.136-65.536V764.928z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style>@font-face{font-family:element-icons;src:url(chrome-extension://moombeodfomdpjnpocobemoiaemednkg/fonts/element-icons.woff) format(\\\"woff\\\"),url(\\\"chrome-extension://moombeodfomdpjnpocobemoiaemednkg/fonts/element-icons.ttf \\\") format(\\\"truetype\\\")}</style></defs><path d=\\\"M234.667 298.667a64 64 0 01-64-64 64 64 0 0164-64 64 64 0 0164 64 64 64 0 01-64 64M913.493 494.08l-384-384c-15.36-15.36-36.693-24.747-60.16-24.747H170.667a85.038 85.038 0 00-85.334 85.334v298.666c0 23.467 9.387 44.8 25.174 60.16l383.573 384c15.787 15.36 37.12 25.174 60.587 25.174 23.466 0 44.8-9.814 60.16-25.174l298.666-298.666c15.787-15.36 25.174-36.694 25.174-60.16 0-23.894-9.814-45.227-25.174-60.587z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\r\n\r\ntype Props = {\r\n  name?: string\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props: Props) => {\r\n  const {name,children,className,...rest}=props;\r\n  return (\r\n    <svg className={classNames('icon',className)} {...rest}>\r\n      {props.name && <use xlinkHref={'#' + props.name}/>}\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Icon;","import styled from 'styled-components';\nimport { NavLink} from 'react-router-dom';\nimport React from 'react';\nimport Icon from './Icon';\n\n\nconst NavWrapper = styled.nav`\n  background: white;\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\n  >ul{\n    display: flex;\n    >li{\n      width: 33.3%;\n      padding: 4px 0;\n      >a{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        .icon{\n          width: 24px;\n          height: 24px;\n        }\n        &.selected{\n          color: red;\n          .icon{\n            fill: red;\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst Nav = () => {\n  return (\n    <NavWrapper>\n      <ul>\n        <li>\n          <NavLink to=\"/money\" activeClassName={'selected'}>\n            <Icon name={'rmb'}/>\n            money\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/tags\" activeClassName={'selected'}>\n            <Icon name={'tag'}/>\n            tags\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/statistics\" activeClassName={'selected'}>\n            <Icon name={'chart'}/>\n            statistics\n          </NavLink>\n        </li>\n      </ul>\n    </NavWrapper>\n  );\n};\n\nexport default Nav;","import Nav from './Nav';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`;\r\n\r\nconst Layout=(props:any)=>{\r\n  return (\r\n    <Wrapper>\r\n      <Main className={props.className}>\r\n        {props.children}\r\n      </Main>\r\n      <Nav/>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default Layout;","let id = parseInt(window.localStorage.getItem('id') || '0');\r\nconst createId = () => {\r\n  id++;\r\n  window.localStorage.setItem('id', JSON.stringify(id));\r\n  return id;\r\n};\r\nexport {createId};","import {useEffect, useRef} from 'react';\r\n\r\nconst useUpdate=(fn:()=>void,deps:any[])=>{\r\n  const count = useRef(0);\r\n  useEffect(() => {\r\n    count.current++;\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (count.current > 1){\r\n      fn();\r\n    }\r\n  }, [fn,deps]);\r\n}\r\nexport {useUpdate}","import {useEffect,  useState} from 'react';\r\nimport {createId} from 'lib/createId';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nconst useTags = () => {\r\n  const [tags, setTags] = useState<{ id: number, name: string }[]>([]);\r\n\r\n  useEffect(() => {\r\n    let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n    if (localTags.length === 0) {\r\n      localTags = [\r\n        {id: createId(), name: '衣'},\r\n        {id: createId(), name: '食'},\r\n        {id: createId(), name: '住'},\r\n        {id: createId(), name: '行'},\r\n      ];\r\n    }\r\n    setTags(localTags);\r\n  }, []);\r\n\r\n  useUpdate(() => {window.localStorage.setItem('tags', JSON.stringify(tags));}, [tags]);\r\n\r\n  const findTagById = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n\r\n  const updateTag = (id: number, name: string) => {\r\n    setTags(tags.map(tag => {\r\n      if (tag.id === id) {\r\n        return {id, name};\r\n      } else {\r\n        return tag;\r\n      }\r\n    }));\r\n  };\r\n\r\n  const deleteTagById = (id: number) => {\r\n    setTags(tags.filter(tag => tag.id !== id));\r\n  };\r\n\r\n  const addTag = () => {\r\n    const tagName = window.prompt('新增的标签名为 ');\r\n    if (tagName !== null) {\r\n      setTags([...tags, {id: createId(), name: tagName}]);\r\n    }\r\n  };\r\n\r\n  const getTagNameById=(id:number)=>{\r\n    const tag = findTagById(id);\r\n    return tag.name;\r\n  }\r\n\r\n  return {tags, setTags, findTagById, updateTag, deleteTagById, addTag,getTagNameById};\r\n};\r\n\r\nexport {useTags};","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  border:none;\r\n  font-size: 18px;\r\n  padding: 8px 12px;\r\n  background: #ddd;\r\n  border-radius: 4px;\r\n`;\r\nexport {Button}","import styled from 'styled-components';\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\nexport {Center}","import styled from 'styled-components';\r\n\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`;\r\n\r\nexport {Space}","import Layout from '../components/Layout';\r\nimport React from 'react';\r\nimport {useTags} from '../hooks/useTags';\r\nimport styled from 'styled-components';\r\nimport Icon from '../components/Icon';\r\nimport {Link} from 'react-router-dom';\r\nimport { Button } from 'components/Button';\r\nimport { Center } from 'components/Center';\r\nimport { Space } from 'components/Space';\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background: white;\r\n  >li{\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin-left: 16px;\r\n    a{\r\n      padding: 12px 16px 12px 0;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n    \r\n  }\r\n`;\r\n\r\nfunction Tags() {\r\n  const {tags,addTag} = useTags();\r\n  return (\r\n    <Layout>\r\n      <TagList>\r\n        {tags.map(tag =>\r\n          <li key={tag.id}>\r\n            <Link to={'/tags/' + tag.id}>\r\n              <span className={'oneLine'}>{tag.name}</span>\r\n              <Icon name={'right'}/>\r\n            </Link>\r\n          </li>)}\r\n      </TagList>\r\n      <Center>\r\n        <Space/>\r\n        <Button onClick={addTag}>新增按钮</Button>\r\n      </Center>\r\n    </Layout>\r\n\r\n  );\r\n}\r\n\r\nexport default Tags;","import styled from 'styled-components';\r\nimport React, {useState} from 'react';\r\n\r\nconst Wrapper = styled.section`\r\n  background: #c4c4c4;\r\n  font-size: 24px;\r\n  >ul{\r\n    display:flex;\r\n    >li{\r\n      width: 50%;\r\n      text-align: center;\r\n      padding: 16px 0;\r\n      position: relative;\r\n      &.selected::after{\r\n        content: '';\r\n        background: black;\r\n        display: block;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0; //防止在safari里面出错\r\n        width: 100%;\r\n        height: 2px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  value: '-' | '+',\r\n  onChange: (value: '-' | '+') => void\r\n}\r\n\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n  const categoryMap = {'-': '支出', '+': '收入'};\r\n  type keys = keyof typeof categoryMap;\r\n  const [categoryList] = useState<keys[]>(['-', '+']);\r\n  const category=props.value;\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map(c =>\r\n          <li className={category === c ? 'selected' : ''}\r\n              onClick={() => props.onChange(c)}\r\n              key={c}>\r\n            {categoryMap[c]}\r\n          </li>)\r\n        }\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {CategorySection};","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n    display: flex;\r\n    align-items: center;\r\n    >span{\r\n      margin-right: 16px;\r\n      white-space: nowrap;\r\n    }\r\n    >input{\r\n      height: 44px;\r\n      width: 100%;\r\n      display: block;\r\n      background: none;\r\n      border:none;\r\n    }\r\n`;\r\n\r\ntype Props = {\r\n  label: string,\r\n} & React.InputHTMLAttributes<HTMLInputElement>;\r\n\r\nconst Input: React.FC<Props> = (props) => {\r\n  const {label,children,...rest}=props;\r\n  return (\r\n    <Label>\r\n      <span>{props.label}</span>\r\n      <input {...rest}/>\r\n    </Label>\r\n  );\r\n};\r\nexport {Input}","import styled from 'styled-components';\r\nimport React, {ChangeEventHandler} from 'react';\r\nimport {Input} from 'components/Input';\r\n\r\nconst Wrapper = styled.section`\r\n  padding: 0 16px;\r\n  font-size: 14px;\r\n`;\r\n\r\ntype Props = {\r\n  value: string,\r\n  onChange: (value: string) => void,\r\n}\r\n\r\nconst NoteSection: React.FC<Props> = (props) => {\r\n  const note = props.value;\r\n\r\n  const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\r\n    props.onChange(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Input label={'备注'} type={'text'} value={note} onChange={onChange} placeholder={'请填写备注'}/>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {NoteSection};","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  >.output{\r\n      background: white;\r\n      font-size: 36px;\r\n      text-align: right;\r\n      padding: 0 16px;\r\n      line-height: 72px;\r\n      //添加阴影模糊效果\r\n      box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n                  inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n  }\r\n  >.pad{\r\n    >button{\r\n      font-size: 18px;\r\n      float: left;\r\n      width: 25%;\r\n      height: 64px;\r\n      border: none;\r\n      &.ok{\r\n        height: 128px;\r\n        float: right;\r\n      }\r\n      &.zero{\r\n        width: 50%;\r\n      }\r\n      &:nth-child(1){background: #f2f2f2}\r\n      &:nth-child(2),&:nth-child(2){background: #e0e0e0}\r\n      &:nth-child(3),&:nth-child(6),&:nth-child(9){background: #d3d3d3}\r\n      &:nth-child(4),&:nth-child(7),&:nth-child(10){background: #c1c1c1}\r\n      &:nth-child(8),&:nth-child(11),&:nth-child(13){background: #b8b8b8}\r\n      &:nth-child(12){background: #9a9a9a}\r\n      &:nth-child(14){background: #a9a9a9}      \r\n    }\r\n  }\r\n`;\r\nexport {Wrapper};","import React, {useState} from 'react';\r\nimport {Wrapper} from './NumberPadSection/Wrapper';\r\nimport {generateOutput} from './NumberPadSection/generateOutput';\r\n\r\ntype Props = {\r\n  value: number,\r\n  onChange: (value: number) => void,\r\n  onOk?: () => void\r\n}\r\n\r\nconst NumberPadSection: React.FC<Props> = (props) => {\r\n  const [output, _setOutput] = useState(props.value.toString());\r\n  const setOutput = (output: string) => {\r\n    let newOutput:string;\r\n    if (output.length > 16) {\r\n      newOutput = output.slice(0, 16);\r\n    } else {\r\n      newOutput = output;\r\n    }\r\n    _setOutput(newOutput);\r\n    props.onChange(parseFloat(newOutput));\r\n  };\r\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\r\n    const text = (e.target as HTMLButtonElement).textContent;\r\n    if (text === null) return;\r\n    if (text === 'OK') {\r\n      if (props.onOk) {\r\n        props.onOk();\r\n      }\r\n      return;\r\n    }\r\n    ;\r\n    setOutput(generateOutput(text, output));\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <div className={'output'}>\r\n        {output}\r\n      </div>\r\n      <div className={'pad clearfix'} onClick={onClickButtonWrapper}>\r\n        <button>1</button>\r\n        <button>2</button>\r\n        <button>3</button>\r\n        <button>删除</button>\r\n        <button>4</button>\r\n        <button>5</button>\r\n        <button>6</button>\r\n        <button>清空</button>\r\n        <button>7</button>\r\n        <button>8</button>\r\n        <button>9</button>\r\n        <button className={'ok'}>OK</button>\r\n        <button className={'zero'}>0</button>\r\n        <button>.</button>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {NumberPadSection};","// type InputString = '0'|'1'|'2'|'3'|'4'|'5'|'6'|'7'|'8'|'9'|'.'|'删除'|'清空'\r\n\r\nconst generateOutput = (text: string, output = '0') => {\r\n  switch (text) {\r\n    case '0':\r\n    case '1':\r\n    case '2':\r\n    case '3':\r\n    case '4':\r\n    case '5':\r\n    case '6':\r\n    case '7':\r\n    case '8':\r\n    case '9':\r\n      if (output === '0') {\r\n        return text;\r\n      } else {\r\n        return output + text;\r\n      }\r\n    case '.':\r\n      if (output.indexOf('.') >= 0) return output;\r\n      return output + '.';\r\n    case '删除':\r\n      if (output.length === 1) {\r\n        return '0';\r\n      } else {\r\n        return output.slice(0, -1);\r\n      }\r\n    case '清空':\r\n      return '0';\r\n    default:\r\n      return '';\r\n  }\r\n};\r\n\r\nexport {generateOutput}","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport {useTags} from '../../hooks/useTags';\r\n\r\nconst Wrapper = styled.section`\r\n  background: #FFF;\r\n  flex-grow: 1;\r\n  padding: 12px 16px;\r\n  display:flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n  >ul{  \r\n    margin: 0 -12px;\r\n    >li{\r\n      background: #D9D9D9;  \r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n      &.selected{\r\n        background: orange;\r\n      }\r\n    }\r\n  }\r\n  >button{\r\n    background: none;  \r\n    border: none;\r\n    padding: 2px 4px;\r\n    border-bottom: 1px solid #333;\r\n    color: #666;\r\n    margin-top: 8px;\r\n  }\r\n`;\r\ntype Props = {\r\n  value: number[],\r\n  onChange: (selected: number[]) => void\r\n}\r\n\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n  const {tags,addTag} = useTags();\r\n  const selectedTagIds = props.value;\r\n\r\n  const onToggleTag = (tagId: number) => {\r\n    const index = selectedTagIds.indexOf(tagId);\r\n    if (index >= 0) {\r\n      props.onChange(selectedTagIds.filter(t => t !== tagId));\r\n    } else {\r\n      props.onChange([...selectedTagIds, tagId]);\r\n    }\r\n  };\r\n  const getClass = (tagId: number) => {\r\n    return selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : '';\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {tags.map(tag => <li key={tag.id}\r\n                             onClick={() => onToggleTag(tag.id)}\r\n                             className={getClass(tag.id)}>{tag.name}</li>)}\r\n      </ul>\r\n      <button onClick={addTag}>新增标签</button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport {TagsSection};","import {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nexport type RecordItem = {\r\n  tagIds: number[];\r\n  note: string;\r\n  category: '+' | '-';\r\n  amount: number;\r\n  createdAt: string;\r\n}\r\ntype newRecordItem = {\r\n  tagIds: number[];\r\n  note: string;\r\n  category: '+' | '-';\r\n  amount: number;\r\n}\r\n\r\nexport const useRecords = () => {\r\n  const [records, setRecords] = useState<RecordItem[]>([]);\r\n\r\n  useEffect(() => {\r\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\r\n  }, []);\r\n\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('records', JSON.stringify(records));\r\n  }, [records]);\r\n\r\n  const addRecord = (newRecord: newRecordItem) => {\r\n    if (newRecord.amount <= 0) {\r\n      alert('请输入金额');\r\n      return false;\r\n    }\r\n    if (newRecord.tagIds.length === 0) {\r\n      alert('请选择标签');\r\n      return false;\r\n    }\r\n\r\n    const record = {...newRecord, createdAt: (new Date()).toISOString()};\r\n    setRecords([...records, record]);\r\n    return true;\r\n  };\r\n\r\n\r\n  return {records, addRecord};\r\n};","import Layout from '../components/Layout';\r\nimport React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport {CategorySection} from './money/CategorySection';\r\nimport {NoteSection} from './money/NotesSection';\r\nimport {NumberPadSection} from './money/NumberPadSection';\r\nimport {TagsSection} from './money/TagsSection';\r\nimport {useRecords} from '../hooks/useRecords';\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display:flex;\r\n  flex-direction: column;\r\n`;\r\n\r\ntype Category = '-' | '+'\r\n\r\nconst initialState = {\r\n  tagIds: [] as number[],\r\n  note: '',\r\n  category: '-' as Category,\r\n  amount: 0\r\n};\r\n\r\nfunction Money() {\r\n  const [selected, setSelected] = useState(initialState);\r\n  const {addRecord} = useRecords();\r\n\r\n  // 使obj接受selected的部分类型\r\n  const onChange = (obj: Partial<typeof selected>) => {\r\n    setSelected({...selected, ...obj,});\r\n  };\r\n\r\n  const submit = () => {\r\n    if (addRecord(selected)) {\r\n      alert('保存成功！');\r\n      setSelected(initialState);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MyLayout>\r\n      <TagsSection value={selected.tagIds}\r\n                   onChange={tagIds => onChange({tagIds})}/>\r\n      <NoteSection value={selected.note}\r\n                   onChange={note => onChange({note})}/>\r\n\r\n      <CategorySection value={selected.category}\r\n                       onChange={category => onChange({category})}/>\r\n\r\n      <NumberPadSection value={selected.amount}\r\n                        onChange={value => onChange({amount: value})}\r\n                        onOk={submit}/>\r\n    </MyLayout>\r\n  );\r\n}\r\n\r\nexport default Money;","import Layout from '../components/Layout';\r\nimport React, {useState} from 'react';\r\nimport {CategorySection} from './money/CategorySection';\r\nimport styled from 'styled-components';\r\nimport {useRecords, RecordItem} from '../hooks/useRecords';\r\nimport {useTags} from '../hooks/useTags';\r\nimport day from 'dayjs';\r\n\r\nconst CategoryWrapper = styled.div`\r\n background: white;\r\n`;\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background: white;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  >.note{\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color: #999;\r\n    \r\n  }\r\n`;\r\nconst Header=styled.h3`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  \r\n`\r\nfunction Statistics() {\r\n  const [category, setCategory] = useState<'-' | '+'>('-');\r\n  const {records} = useRecords();\r\n  const {getTagNameById} = useTags();\r\n  const selectedCategory = records.filter(r => r.category === category);\r\n\r\n  const hash: { [k: string]: RecordItem[] } = {};\r\n\r\n  selectedCategory.forEach(r => {\r\n    const key = day(r.createdAt).format('YYYY-MM-DD');\r\n    if (!(key in hash)) {\r\n      hash[key] = [];\r\n    }\r\n    hash[key].push(r);\r\n  });\r\n\r\n  const array = Object.entries(hash).sort((a, b) => {\r\n    if (a[0] === b[0]) return 0;\r\n    if (a[0] > b[0]) return -1;\r\n    if (a[0] < b[0]) return 1;\r\n    return 0;\r\n  });\r\n\r\n  return (\r\n    <Layout>\r\n      <CategoryWrapper>\r\n        <CategorySection value={category} onChange={value => setCategory(value)}/>\r\n      </CategoryWrapper>\r\n      {array.map(([date,records])=>\r\n      <div key={Math.random()}>\r\n        <Header>{date}</Header>\r\n        <div>\r\n          {records.map(r => {\r\n            return (\r\n              <Item key={Math.random()}>\r\n                <div className={'tags'}>\r\n                  {r.tagIds.map(tagId => <span key={tagId}>{getTagNameById(tagId)}</span>)}\r\n                </div>\r\n                {r.note &&\r\n                <div className={'note'}>\r\n                  {r.note}\r\n                </div>}\r\n                <div className={'amount'}>\r\n                  ￥{r.amount}\r\n                </div>\r\n              </Item>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>)}\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Statistics;","import React from 'react';\r\nimport {useTags} from '../hooks/useTags';\r\nimport {useParams, useHistory} from 'react-router-dom';\r\nimport Layout from '../components/Layout';\r\nimport Icon from '../components/Icon';\r\nimport {Button} from '../components/Button';\r\nimport styled from 'styled-components';\r\nimport {Input} from '../components/Input';\r\nimport {Center} from '../components/Center';\r\nimport {Space} from '../components/Space';\r\n\r\nconst TopBar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 20px;\r\n  padding: 14px 0;\r\n  background: white;\r\n`;\r\n\r\nconst InputWrapper = styled.div`\r\n  background: white;      \r\n  padding: 0 16px;\r\n  margin-top: 8px;\r\n`;\r\n\r\nconst Tag: React.FC = () => {\r\n  const {findTagById, updateTag, deleteTagById} = useTags();\r\n  const {id} = useParams<{ id: string }>();\r\n  const tag = findTagById(parseInt(id));\r\n\r\n  const tagContent =(tag:{id:number,name:string})=> (\r\n    <div>\r\n      <InputWrapper>\r\n        <Input label={'标签名'}\r\n               type={'text'}\r\n               placeholder={'标签名'}\r\n               value={tag.name}\r\n               onChange={e => updateTag(tag.id,  e.target.value)}/>\r\n      </InputWrapper>\r\n      <Center>\r\n        <Space/>\r\n        <Button onClick={() => deleteTagById(tag.id)}>删除标签</Button>\r\n      </Center>\r\n    </div>\r\n)\r\n\r\n  const history=useHistory();\r\n  const onClickBack=()=>{\r\n    // window.history.back();\r\n    history.goBack();\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <TopBar>\r\n        <Icon name='left' className='frank' onClick={onClickBack}/>\r\n        <span>编辑标签</span>\r\n        <Icon/>\r\n      </TopBar>\r\n      {tag ? tagContent(tag) : <div>tag不存在</div>}\r\n    </Layout>\r\n  );\r\n\r\n};\r\nexport {Tag};","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom';\nimport Tags from './views/Tags';\nimport Money from 'views/Money';\nimport Statistics from './views/Statistics';\nimport styled from 'styled-components';\nimport {Tag} from 'views/Tag';\n\nconst AppWrapper = styled.div`\n  color: #333;\n`;\n\nexport default function App() {\n  return (\n    <AppWrapper>\n      <Router>\n        <Switch>\n          <Route exact path=\"/tags\">\n            <Tags/>\n          </Route>\n          <Route exact path=\"/tags/:id\">\n            <Tag/>\n          </Route>\n          <Route exact path=\"/money\">\n            <Money/>\n          </Route>\n          <Route exact path=\"/statistics\">\n            <Statistics/>\n          </Route>\n          {/*默认路由*/}\n          <Redirect exact from='/' to='/money'/>\n          <Route path='*'>\n            <NoMatch/>\n          </Route>\n        </Switch>\n      </Router>\n    </AppWrapper>\n  );\n}\n\nfunction NoMatch() {\n  return <h2>404</h2>;\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss'\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}